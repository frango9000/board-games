<app-core-card-view *transloco="let t; read: TRANSLOCO_SCOPE" [title]="t('header')">
  <form [formGroup]="form" novalidate (ngSubmit)="onSubmit()">
    <mat-card>
      <mat-card-content>
        <mat-form-field>
          <input
            matInput
            type="password"
            [placeholder]="t('placeholder.password')"
            formControlName="password"
            required
          />
          <mat-error>
            <app-form-error [control]="form.controls.password" name="password"></app-form-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            type="password"
            [placeholder]="t('placeholder.password2')"
            formControlName="password2"
            required
          />
          <mat-error>
            <app-form-error [control]="form.controls.password2" name="password2"></app-form-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            type="password"
            [placeholder]="t('placeholder.newPassword')"
            formControlName="newPassword"
            required
          />
          <mat-error>
            <app-form-error [control]="form.controls.newPassword" name="newPassword"></app-form-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            type="password"
            [placeholder]="t('placeholder.newPassword2')"
            formControlName="newPassword2"
            required
          />
          <mat-error>
            <app-form-error [control]="form.controls.newPassword2" name="newPassword2"></app-form-error>
          </mat-error>
        </mat-form-field>
        <div class="submit-message">
          <app-form-error [control]="form" name="password"></app-form-error>
          <app-form-error [control]="form" name="newPassword"></app-form-error>
        </div>
      </mat-card-content>
      <mat-card-actions [align]="'end'">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          *ngLet="this.userSettingsService.hasTemplateToChangePassword() | async as canChangePassword"
          [disabled]="!canChangePassword"
        >
          {{ t('button.change') }}
        </button>
      </mat-card-actions>
    </mat-card>
  </form>
</app-core-card-view>
